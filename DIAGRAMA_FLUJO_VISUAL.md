# ğŸ¨ Diagrama Visual del Flujo Completo

## ğŸ”„ FLUJO DETALLADO CON TABLAS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FASE 1: REGISTRO DEL PACIENTE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[USUARIO]                     [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ /register â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚    (email, password)        â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ users
    â”‚                             â”‚                            â”‚  - id: 1
    â”‚                             â”‚                            â”‚  - email
    â”‚                             â”‚                            â”‚  - password
    â”‚                             â”‚                            â”‚  - role: paciente
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ pacientes  
    â”‚                             â”‚                            â”‚  - id_paciente: 1
    â”‚                             â”‚                            â”‚  - user_id: 1
    â”‚                             â”‚                            â”‚  - nombre
    â”‚                             â”‚                            â”‚  - apellido
    â”‚                             â”‚                            â”‚
    â”‚â†â”€â”€â”€ Usuario creado â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
    â”‚â†â”€â”€â”€ Redirigir a /login â”€â”€â”€â”€â”‚                            â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FASE 2: EVALUACIÃ“N INICIAL                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[NUTRICIONISTA]               [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€ /evaluaciones/nueva â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  Datos antropomÃ©tricos:     â”‚                            â”‚
    â”‚  - Peso: 85.5 kg            â”‚                            â”‚
    â”‚  - Altura: 175 cm           â”‚                            â”‚
    â”‚  - IMC: 27.9                â”‚                            â”‚
    â”‚  - Grasa: 28.5%             â”‚                            â”‚
    â”‚  - Masa muscular: 35.2 kg   â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ evaluaciones
    â”‚                             â”‚                            â”‚  - id_evaluacion: 1
    â”‚                             â”‚                            â”‚  - id_paciente: 1
    â”‚                             â”‚                            â”‚  - peso_kg: 85.5
    â”‚                             â”‚                            â”‚  - altura_cm: 175
    â”‚                             â”‚                            â”‚  - imc: 27.9
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT (mÃºltiple) â”€â”€â”€â”€â†’â”‚ mediciones
    â”‚                             â”‚                            â”‚  (peso, grasa,
    â”‚                             â”‚                            â”‚   masa muscular, etc)
    â”‚                             â”‚                            â”‚
    â”‚â†â”€ EvaluaciÃ³n guardada â”€â”€â”€â”€â”€â”‚                            â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FASE 3: CREACIÃ“N DE CONTRATO                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[NUTRICIONISTA]               [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ /contratos/nuevo â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  - id_paciente: 1           â”‚                            â”‚
    â”‚  - id_servicio: 3           â”‚                            â”‚
    â”‚    (Plan Integral)          â”‚                            â”‚
    â”‚  - fecha_inicio: 25/01      â”‚                            â”‚
    â”‚  - costo: $8,000            â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ SELECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ servicios
    â”‚                             â”‚â†â”€â”€â”€ Servicio #3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  WHERE id=3
    â”‚                             â”‚     duracion: 30 dÃ­as      â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ contratos
    â”‚                             â”‚                            â”‚  - id_contrato: 1
    â”‚                             â”‚                            â”‚  - id_paciente: 1
    â”‚                             â”‚                            â”‚  - id_servicio: 3
    â”‚                             â”‚                            â”‚  - fecha_inicio: 25/01
    â”‚                             â”‚                            â”‚  - fecha_fin: 25/02
    â”‚                             â”‚                            â”‚  - costo: 8000.00
    â”‚                             â”‚                            â”‚  - estado: ACTIVO
    â”‚                             â”‚                            â”‚
    â”‚â†â”€â”€â”€ Contrato creado â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FASE 4: PLAN DE ALIMENTACIÃ“N                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[NUTRICIONISTA]               [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ /planes/nuevo â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  Plan para contrato #1:     â”‚                            â”‚
    â”‚  - Objetivo: PERDIDA_PESO   â”‚                            â”‚
    â”‚  - CalorÃ­as: 1,800/dÃ­a      â”‚                            â”‚
    â”‚  - Comidas: 5/dÃ­a           â”‚                            â”‚
    â”‚  - DuraciÃ³n: 30 dÃ­as        â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ planes_alimentacion
    â”‚                             â”‚                            â”‚  - id_plan: 1
    â”‚                             â”‚                            â”‚  - id_contrato: 1
    â”‚                             â”‚                            â”‚  - calorias_objetivo: 1800
    â”‚                             â”‚                            â”‚  - estado: ACTIVO
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Planificar DÃ­a 1 â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  Lunes, 27/01               â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ plan_dias
    â”‚                             â”‚                            â”‚  - id_plan_dia: 1
    â”‚                             â”‚                            â”‚  - id_plan: 1
    â”‚                             â”‚                            â”‚  - dia_numero: 1
    â”‚                             â”‚                            â”‚  - dia_semana: LUNES
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Agregar Desayuno â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  08:00 - Desayuno Proteico  â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ comidas
    â”‚                             â”‚                            â”‚  - id_comida: 1
    â”‚                             â”‚                            â”‚  - id_plan_dia: 1
    â”‚                             â”‚                            â”‚  - tipo_comida: DESAYUNO
    â”‚                             â”‚                            â”‚  - hora_recomendada: 08:00
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Agregar Alimentos â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  â€¢ Huevos (2 unidades)      â”‚                            â”‚
    â”‚  â€¢ Pan integral (2 reb.)    â”‚                            â”‚
    â”‚  â€¢ Aguacate (50g)           â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT (3x) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ alimento_comida
    â”‚                             â”‚                            â”‚  - id_comida: 1
    â”‚                             â”‚                            â”‚  - id_alimento: X
    â”‚                             â”‚                            â”‚  - cantidad: Y
    â”‚                             â”‚                            â”‚  - calorias: Z
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚  [Repetir para 4 comidas mÃ¡s del dÃ­a 1]                 â”‚
    â”‚  [Repetir para dÃ­as 2-30]                                â”‚
    â”‚                                                          â”‚
    â”‚  Total final: 150 comidas (30 dÃ­as Ã— 5 comidas)         â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 FASE 5: CALENDARIO Y ENTREGAS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[NUTRICIONISTA]               [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€ /calendarios-entrega/nuevo â”‚                            â”‚
    â”‚  - Contrato #1              â”‚                            â”‚
    â”‚  - Frecuencia: SEMANAL      â”‚                            â”‚
    â”‚  - DÃ­a: DOMINGO             â”‚                            â”‚
    â”‚  - Hora: 18:00              â”‚                            â”‚
    â”‚  - DirecciÃ³n #1             â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ calendarios_entrega
    â”‚                             â”‚                            â”‚  - id_calendario: 1
    â”‚                             â”‚                            â”‚  - id_contrato: 1
    â”‚                             â”‚                            â”‚  - tipo_frecuencia: SEMANAL
    â”‚                             â”‚                            â”‚  - dias_entrega: [DOMINGO]
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€ GENERAR ENTREGAS â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
    â”‚                             â”‚  (automÃ¡tico)              â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT (4x) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ entregas_programadas
    â”‚                             â”‚                            â”‚  Entrega 1: 26/01
    â”‚                             â”‚                            â”‚  Entrega 2: 02/02
    â”‚                             â”‚                            â”‚  Entrega 3: 09/02
    â”‚                             â”‚                            â”‚  Entrega 4: 16/02
    â”‚                             â”‚                            â”‚  estado: PENDIENTE
    â”‚                             â”‚                            â”‚
    â”‚â†â”€ Calendario creado â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DOMINGO 26/01 - ENTREGA #1  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[CHEF]                        [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Ver orden preparaciÃ³n â”€â†’ â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ SELECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ entregas_programadas
    â”‚                             â”‚â†â”€â”€â”€ Entrega #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  WHERE fecha=26/01
    â”‚                             â”‚                            â”‚  estado: PENDIENTE
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Iniciar preparaciÃ³n â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ UPDATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ entregas_programadas
    â”‚                             â”‚                            â”‚  SET estado = 'EN_PREPARACION'
    â”‚                             â”‚                            â”‚
    â”‚  [Prepara 35 comidas]       â”‚                            â”‚
    â”‚  [Empaca individuales]      â”‚                            â”‚
    â”‚  [Etiqueta cada una]        â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Listo para envÃ­o â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ UPDATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ entregas_programadas
    â”‚                             â”‚                            â”‚  SET estado = 'EN_TRANSITO'
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ NOTIFICAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ notificaciones
    â”‚                             â”‚     "Tu pedido estÃ¡ en     â”‚  (al paciente)
    â”‚                             â”‚      camino ğŸšš"            â”‚

[REPARTIDOR]                  [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Confirmar entrega â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  - Foto de entrega          â”‚                            â”‚
    â”‚  - Firma digital            â”‚                            â”‚
    â”‚  - Hora real: 18:15         â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ UPDATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ entregas_programadas
    â”‚                             â”‚                            â”‚  SET estado = 'ENTREGADO'
    â”‚                             â”‚                            â”‚  SET fecha_entrega_real = 18:15
    â”‚                             â”‚                            â”‚  SET evidencia_foto = '...'
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ NOTIFICAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ notificaciones
    â”‚                             â”‚     "Â¡Pedido entregado!"   â”‚  (al paciente)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FASE 6: SEGUIMIENTO CONTINUO                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LUNES 27/01 - PRIMER DÃA     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[PACIENTE]                    [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ 08:15 Come desayuno â”€â”€â”€â”€â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ /ingestas/nueva â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  - Comida: Desayuno         â”‚                            â”‚
    â”‚  - Hora: 08:15              â”‚                            â”‚
    â”‚  - Estado Ã¡nimo: NORMAL     â”‚                            â”‚
    â”‚  - Nivel hambre: 3/5        â”‚                            â”‚
    â”‚  - Nivel saciedad: 4/5      â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ ingestas
    â”‚                             â”‚                            â”‚  - id_ingesta: 1
    â”‚                             â”‚                            â”‚  - id_paciente: 1
    â”‚                             â”‚                            â”‚  - fecha_ingesta: 27/01 08:15
    â”‚                             â”‚                            â”‚  - tipo_comida: DESAYUNO
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT (mÃºltiple) â”€â”€â”€â”€â†’â”‚ alimento_ingesta
    â”‚                             â”‚                            â”‚  (cada alimento consumido)
    â”‚                             â”‚                            â”‚
    â”‚â†â”€â”€â”€ Ingesta registrada â”€â”€â”€â”€â”‚                            â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LUNES 03/02 - SEGUIMIENTO    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[NUTRICIONISTA]               [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€ /evaluaciones/nueva â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  - Paciente #1              â”‚                            â”‚
    â”‚  - Peso: 83.2 kg            â”‚                            â”‚
    â”‚  - IMC: 27.2                â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ SELECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ evaluaciones
    â”‚                             â”‚â†â”€ Ãšltima evaluaciÃ³n â”€â”€â”€â”€â”€â”€â”‚  WHERE id_paciente=1
    â”‚                             â”‚   Peso anterior: 85.5 kg   â”‚  ORDER BY fecha DESC
    â”‚                             â”‚                            â”‚  LIMIT 1
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ CALCULAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
    â”‚                             â”‚  Cambio peso: -2.3 kg âœ“    â”‚
    â”‚                             â”‚  Cambio grasa: -1.4%       â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ evaluaciones
    â”‚                             â”‚                            â”‚  - id_evaluacion: 2
    â”‚                             â”‚                            â”‚  - id_paciente: 1
    â”‚                             â”‚                            â”‚  - peso_kg: 83.2
    â”‚                             â”‚                            â”‚  - cambio_peso: -2.3
    â”‚                             â”‚                            â”‚
    â”‚â†â”€ Progreso excelente â”€â”€â”€â”€â”€â”€â”‚                            â”‚
    â”‚   Plan continÃºa sin cambios â”‚                            â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      COMUNICACIÃ“N Y NOTIFICACIONES                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[PACIENTE]                    [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ /mensajes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  "Â¿Puedo sustituir el       â”‚                            â”‚
    â”‚   pescado por pollo?"       â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ mensajes
    â”‚                             â”‚                            â”‚  - remitente: Paciente #1
    â”‚                             â”‚                            â”‚  - destinatario: Nutricionista
    â”‚                             â”‚                            â”‚  - mensaje: "..."
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ NOTIFICAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ notificaciones
    â”‚                             â”‚     (al nutricionista)     â”‚

[NUTRICIONISTA]               [SISTEMA]                      [BD]
    â”‚                             â”‚                            â”‚
    â”‚â”€â”€â”€ Responder mensaje â”€â”€â”€â”€â”€â†’ â”‚                            â”‚
    â”‚  "SÃ­, usa 150g de pechuga   â”‚                            â”‚
    â”‚   de pollo"                 â”‚                            â”‚
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ mensajes
    â”‚                             â”‚                            â”‚  - remitente: Nutricionista
    â”‚                             â”‚                            â”‚  - destinatario: Paciente #1
    â”‚                             â”‚                            â”‚  - mensaje_padre_id: X
    â”‚                             â”‚                            â”‚
    â”‚                             â”‚â”€â”€â”€â”€ NOTIFICAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ notificaciones
    â”‚                             â”‚     (al paciente)          â”‚
```

---

## ğŸ“Š RESUMEN DE TABLAS Y RELACIONES

```
users (credenciales)
  â”œâ”€â†’ pacientes (info personal)
  â”œâ”€â†’ nutricionistas (info profesional)
  â””â”€â†’ admins (info administrativa)

pacientes
  â”œâ”€â†’ evaluaciones (mediciones)
  â”‚     â””â”€â†’ mediciones (histÃ³rico)
  â”œâ”€â†’ analisis_clinicos (laboratorio)
  â”œâ”€â†’ contratos (servicios contratados)
  â”‚     â”œâ”€â†’ servicios (tipo de servicio)
  â”‚     â”œâ”€â†’ planes_alimentacion (planes)
  â”‚     â”‚     â””â”€â†’ plan_dias (dÃ­as del plan)
  â”‚     â”‚           â””â”€â†’ comidas (5 comidas/dÃ­a)
  â”‚     â”‚                 â”œâ”€â†’ alimento_comida (alimentos)
  â”‚     â”‚                 â””â”€â†’ comida_receta (recetas)
  â”‚     â””â”€â†’ calendarios_entrega (programaciÃ³n)
  â”‚           â””â”€â†’ entregas_programadas (entregas)
  â”œâ”€â†’ direcciones (direcciones de entrega)
  â”œâ”€â†’ ingestas (registro de comidas)
  â”‚     â””â”€â†’ alimento_ingesta (alimentos consumidos)
  â”œâ”€â†’ fotos_progreso (fotos de evoluciÃ³n)
  â”œâ”€â†’ mensajes (comunicaciÃ³n)
  â””â”€â†’ notificaciones (alertas)
```

---

**Â¡Este es el flujo visual completo del sistema!** ğŸ¨
